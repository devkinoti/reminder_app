<% provide(:title, "Dashboard") %>

<%= render "shared/app_sidebar" %>

<section id="main-dashboard-content">
    <h2 id="welcome-title">Dashboard</h1>
    <section id="grid-summary-container">
        <div class="grid-summary-item income">
            <div class="summary-title">All Reminders <span class="month-percentage">Total Reminders</span> </div>
            <div class="income-data">
                <div class="income-icon">
                    <%= image_tag 'reminder.png',alt: "reminder_icon" %>
                </div>
                <div class="income-details">
                    <div class="details-numbers"><%= pluralize(@total_reminders, "reminder") %></div>
                    <div class="details-link">View all reminders</div>
                </div>
            </div>
        </div>
        <div class="grid-summary-item expenses">
            <div class="summary-title">Past Reminders <span class="month-percentage">past reminders</span> </div>
            <div class="expense-data">
                <div class="expense-icon">
                    <%= image_tag 'past_reminders.png',alt: "past_reminder_icon" %>
                </div>
                <div class="expense-details">
                    <div class="details-numbers"><%= pluralize(@total_past_reminders,"reminder")%></div>
                    <div class="details-link">View all past</div>
                </div>
            </div>
        </div>
        <div class="grid-summary-item due-transactions">
            <div class="summary-title">Active Reminders</div>
            <div class="due-transactions-data">
                <div class="due-transactions-icon">
                    <%= image_tag 'due_transactions_icon.png',alt: "due_transactions_icon" %>
                </div>
                <div class="due-transactions-details">
                    <div class="details-numbers"><%= pluralize(@total_active_reminders,"reminder")%></div>
                    <div class="details-link">View all active</div>
                </div>
            </div>
        </div>



    </section>

    <section id="activities-section">
        <h2 id="activities-title">Reminders Calendar View</h2>
    </section>



  <section id="calendar-section">
    <div data-controller='calendar'>
      <div class="modal" data-calendar-target="modal">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <%= form_with model: Event.new, local: true do |form| %>
              <div class="modal-body">
                <div class="field">
                  <%= form.label :title %>
                  <%= form.text_field :title %>
                </div>

                <div class="field">
                  <%= form.label :all_day %>
                  <%= form.check_box :all_day %>
                </div>

                <div class="field">
                  <%= form.label :start_time %>
                  <%= form.datetime_field :start_time, data: { :target => 'calendar.start_time' } %>
                </div>

                <div class="field">
                  <%= form.label :end_time %>
                  <%= form.datetime_field :end_time , data: { :target => 'calendar.end_time' } %>
                </div>

              </div>
              <div class="modal-footer">
                <%= form.submit class: 'btn btn-primary' %>
              </div>
            <% end %>
          </div>
        </div>
      </div>

      <div data-calendar-target= 'calendar'></div>
    </div>
    
  </section>

